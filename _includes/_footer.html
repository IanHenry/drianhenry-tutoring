<div class="site-footer">
 <div class="footer-content">
   Â© 2025 Dr Ian Henry. All rights reserved.<br>
   <a href="https://drianhenry.co.uk/privacy.html">Privacy Policy</a> |
   <a href="https://drianhenry.co.uk/credits.html">Image Credits</a> |
   <a href="/contact.html">Contact</a>
  </div>
</div>

<!-- Cal element-click embed code -->
<script type="text/javascript">
(function (C, A, L) {
  let p = function (a, ar) { a.q.push(ar); };
  let d = C.document;
  C.Cal = C.Cal || function () {
    let cal = C.Cal;
    let ar = arguments;
    if (!cal.loaded) {
      cal.ns = {};
      cal.q = cal.q || [];
      d.head.appendChild(d.createElement("script")).src = A;
      cal.loaded = true;
    }
    if (ar[0] === L) {
      const api = function () { p(api, arguments); };
      const namespace = ar[1];
      api.q = api.q || [];
      if (typeof namespace === "string") {
        cal.ns[namespace] = cal.ns[namespace] || api;
        p(cal.ns[namespace], ar);
        p(cal, ["initNamespace", namespace]);
      } else p(cal, ar);
      return;
    }
    p(cal, ar);
  };
})(window, "https://app.cal.com/embed/embed.js", "init");

Cal("init", "tutoring-intro-session", { origin: "https://app.cal.com" });
Cal.ns["tutoring-intro-session"]("ui", {
  hideEventTypeDetails: false,
  layout: "month_view"
});
</script>
<!-- End Cal element-click embed code -->


<!-- Cal floating-popup embed code begins -->
<script type="text/javascript">
  (function (C, A, L) { let p = function (a, ar) { a.q.push(ar); }; let d = C.document; C.Cal = C.Cal || function () { let cal = C.Cal; let ar = arguments; if (!cal.loaded) { cal.ns = {}; cal.q = cal.q || []; d.head.appendChild(d.createElement("script")).src = A; cal.loaded = true; } if (ar[0] === L) { const api = function () { p(api, arguments); }; const namespace = ar[1]; api.q = api.q || []; if(typeof namespace === "string"){cal.ns[namespace] = cal.ns[namespace] || api;p(cal.ns[namespace], ar);p(cal, ["initNamespace", namespace]);} else p(cal, ar); return;} p(cal, ar); }; })(window, "https://app.cal.com/embed/embed.js", "init");
Cal("init", "tutoring-intro-session", {origin:"https://app.cal.com"});

  Cal.ns["tutoring-intro-session"]("floatingButton", {"calLink":"drianhenry/tutoring-intro-session","config":{"layout":"month_view"},"buttonText":"Sign up for a free 30 min introductory session","buttonColor":"#1378de"}); 
  Cal.ns["tutoring-intro-session"]("ui", {"hideEventTypeDetails":false,"layout":"month_view"});
  </script>
  <!-- Cal floating-popup embed code ends -->

<script>
  function adjustCalButton() {
    const calButton = document.querySelector('cal-floating-button');
    const cookieBanner = document.getElementById('cookie-banner');

    if (calButton && calButton.shadowRoot) {
      const btn = calButton.shadowRoot.querySelector('button');
      if (!btn) return;

      // Determine offset
      let bottomOffset = 20; // default bottom spacing
      if (cookieBanner && cookieBanner.style.display !== 'none') {
        bottomOffset += cookieBanner.offsetHeight + 10; // extra 10px gap
      }

      btn.style.bottom = bottomOffset + 'px';
      btn.style.right = '20px'; // keep it in bottom-right
    }
  }

  // Initial adjustment
  window.addEventListener('load', () => {
    adjustCalButton();

    // Watch for clicks on cookie banner accept button
    const acceptBtn = document.getElementById('accept-cookies');
    if (acceptBtn) {
      acceptBtn.addEventListener('click', () => {
        setTimeout(adjustCalButton, 300); // give time for banner to hide
      });
    }

    // Also adjust periodically in case Cal loads slowly
    setTimeout(adjustCalButton, 1000);
    setTimeout(adjustCalButton, 2000);
    setTimeout(adjustCalButton, 3000);
  });
</script>
